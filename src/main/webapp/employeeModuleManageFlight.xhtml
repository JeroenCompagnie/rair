<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:b="http://bootsfaces.net/ui">

<f:metadata>
	<f:viewParam name="flightId" value="#{employeeBean.flightId}" />
</f:metadata>

<ui:composition template="WEB-INF/templates/common.xhtml">
	<!-- TODO replace content here -->
	<ui:define name="title">Employee module - Manage flight</ui:define>

	<ui:define name="content">

		<h:outputLabel value="You have no powers here!"
			rendered="#{not loginBean.userIsEmployee}" />

		<h:panelGroup
			rendered="#{loginBean.userIsEmployee and not employeeBean.flightIdExists}">
			<h:outputLabel
				value="No flight with id #{employeeBean.flightId} found!" />
		</h:panelGroup>
		<h:panelGroup layout="block"
			rendered="#{loginBean.userIsEmployee and employeeBean.flightIdExists and employeeBean.flightId > 0}">

			<!-- You have power, id is #{partnerBean.partnerFlightId} -->

			<h:form>

				<b:panelGrid colSpans="4,6,2" size="sm">
					<h:outputText value="Id: " />
						#{employeeBean.flightId}
						<h:outputText value="" />

					<h:outputText value="Departure date: " />
						#{employeeBean.flight.dateOfDeparture}
						<h:outputText value="" />

					<h:outputText value="Departure airport: " />
						#{employeeBean.flight.departureAirport}
						<h:outputText value="" />

					<h:outputText value="Destination airport: " />
						#{employeeBean.flight.destinationAirport}
						<h:outputText value="" />

					<h:outputText value="Flight duration: " />
					<h:outputText
						value="#{employeeBean.flight.flightDurationInMinutes} minutes" />
					<h:outputText value="" />

				</b:panelGrid>

				<br />
				<br />


				<h:outputLabel
					value="Default price charge: #{employeeBean.flight.defaultPriceCharge.string}" />
				<br />
				
				<h:outputLabel
					value=" HIER KNOP OM DEZE PRIJS TE WIJZIGEN NAAR PERCENTAGE OF ECHTE PRIJS" />
				
				<b:selectOneMenu value="#{employeeBean.newDefaultPriceChargeDiscountType}">
					<f:selectItems value="#{employeeBean.discountTypesDefaultPriceCharge}" var="c" itemValue="#{c}" itemLabel="#{c}"></f:selectItems>
				</b:selectOneMenu>
				<br/>
				
				<b:inputText placeholder="New price default charge"
					value="#{employeeBean.newDefaultPriceCharge}"
					styleClass="partnerModuleInputBox" rows="2">
					<f:facet name="prepend">
						<b:commandButton value="Change" look="info"
							action="#{employeeBean.setDefaultPriceCharge}" />
					</f:facet>
				</b:inputText>
				<br />
				<!-- <h:outputLabel value="Discount list: #{employeeBean.flight.discountsList}"/>  -->
				<br />


				<h2>Discounts by RAir</h2>
				<br />
				<b:dataTable value="#{employeeBean.flight.listOfDiscountByEmployee}"
					var="d">
					<b:dataTableColumn value="#{d.id}" label="#" />
					<b:dataTableColumn value="#{d.discount}" label="Value" />
					<b:dataTableColumn value="#{d.string}" label="Value" />
				</b:dataTable>
				<br />
				<h2>
					<h:outputText
						value="Discounts by #{employeeBean.flight.partner.name}" />
				</h2>
				<b:dataTable value="#{employeeBean.flight.listOfDiscountByPartner}"
					var="d">
					<b:dataTableColumn value="#{d.id}" label="#" />
					<b:dataTableColumn value="#{d.discount}" label="Value" />
					<b:dataTableColumn value="#{d.string}" label="Value" />
				</b:dataTable>


			</h:form>
		</h:panelGroup>
	</ui:define>
</ui:composition>
</html>